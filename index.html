<!DOCTYPE html>

<html>
<body>
  <script>
    //score initializers
    let a = 0
    ,   b = 0;
    function computerPlay() {
      let randomize = Math.random();
      if (randomize >= 0 && randomize <= 0.3)
      {
        return 'Rock';
      } else if (randomize > 0.3 && randomize <= 0.7) {
        return 'Paper';
      } else {
        return 'Scissors';
      }
    }

    function playRound(playerSelection, computerSelection) {
      let firstLetter = playerSelection.charAt(0)
      , finalFirstLetter = firstLetter.toUpperCase()
      , size = playerSelection.length
      , remainLetter = "";
      for (let i = 1; i <= size; i++) {
        remainLetter += playerSelection.charAt(i);
      }
      let finalRemainLetter = remainLetter.toLowerCase()
      , fullString = finalFirstLetter + finalRemainLetter;

      switch (fullString + '|' + computerSelection) {
        case 'Rock|Paper':
          return 'You Lose! Paper beats Rock';
          break;
        case 'Rock|Scissors':
          return 'You Win! Rock beat Scissors';
          break;
        case 'Rock|Rock':
          return 'It\'s a draw';
          break;
        case 'Paper|Paper':
          return 'It\'s a draw';
          break;
        case 'Paper|Scissors':
          return 'You Lose! Scissors beat Paper';
          break;
        case 'Paper|Rock':
          return 'You Win! Paper beats Rock';
          break;
        case 'Scissors|Paper':
        return 'You Win! Scissors beat Paper';
        break;
        case 'Scissors|Scissors':
          return 'It\'s a draw';
          break;
        case 'Scissors|Rock':
          return 'You Lose! Rock beat Scissors';
          break;
      }
    }

    function game() {
      let rounds = 0;
      do {
        const playerSelection = prompt('Enter your choice:');
        const computerSelection = computerPlay();
        console.log(playRound(playerSelection, computerSelection));
        if (playRound(playerSelection, computerSelection) == 'You Win! Rock beat Scissors' || playRound(playerSelection, computerSelection) == 'You Win! Paper beats Rock' || playRound(playerSelection, computerSelection) == 'You Win! Scissors beat Paper') {
          a += 1;
          console.log('Player: ' + a + ' Computer: ' + b);
        } else if (playRound(playerSelection, computerSelection) == 'You Lose! Paper beats Rock' || playRound(playerSelection, computerSelection) == 'You Lose! Scissors beat Paper' || playRound(playerSelection, computerSelection) == 'You Lose! Rock beat Scissors') {
          b += 1;
          console.log('Player: ' + a + ' Computer: ' + b);
        } else {
          console.log('Player: ' + a + ' Computer: ' + b);
        }
        rounds++;
      } while (rounds < 5);
      if (rounds == 5) {
        if (a > b) {
          console.log("Game Over: Player Wins!")
        } else if (a < b) {
          console.log("Game Over: Computer Wins!")
        } else {
          console.log("Game Over: Drawn")
        }
      }
    }
  </script>
</body>
</html>
